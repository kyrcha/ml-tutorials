<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Kyriakos Chatzidimitriou (kyrcha@gmail.com)" />


<title>Introduction to R</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-1.1/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-1.1/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs && document.readyState && document.readyState === "complete") {
   window.setTimeout(function() {
      hljs.initHighlighting();
   }, 0);
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">ML & R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="r.html">R</a>
</li>
<li>
  <a href="classification.html">Classification</a>
</li>
<li>
  <a href="clustering.html">Clustering</a>
</li>
<li>
  <a href="data-eng.html">Data Engineering</a>
</li>
<li>
  <a href="other.html">Other tasks</a>
</li>
<li>
  <a href="finder.html">Finder</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Introduction to R</h1>
<h4 class="author"><em>Kyriakos Chatzidimitriou (<a href="mailto:kyrcha@gmail.com">kyrcha@gmail.com</a>)</em></h4>
<h4 class="date"><em>10 January, 2017</em></h4>

</div>


<div id="the-basics" class="section level2">
<h2>The basics</h2>
<p>R is an open source programming language and a free environment, mainly used for statistical computing and graphics. Information about R you can find in the <a href="https://www.r-project.org/">official website</a>. By searching with the keyword <code>R</code> with other topic-specific words in sites like Google, one can find additional information from sites, blog posts, tutorials, documents etc.</p>
<p>Even through R comes with its own environment: command line and graphical interfaces, one can use the popular <a href="https://www.rstudio.com/">RStudio</a>, which offers additional graphical functionalities.</p>
<p>When in the R environment (the R prompt is <code>&gt;</code>) one can exit by calling the <code>quit()</code> function or <code>q()</code> for short. When asked if you want to save the workspace, if you reply with a <code>y</code> for yes, all the variables that you have during the current R session will be saved into a file names .Rdata in the current working directory. If you later start R in the same directory, the variables and their names will be automatically loaded.</p>
<p>To check which is your current working directory, your can enter:</p>
<pre class="r"><code>getwd()</code></pre>
<p>To set the working directory one can use the <code>setwd</code> function:</p>
<pre class="r"><code>setwd(&quot;~/Desktop&quot;)</code></pre>
<p>What you type at the R prompt is an expression, which R attempts to evaluate and type the result. For example <code>getwd()</code> is an expression that is evaluated by calling the function <code>getwd()</code> with no arguments. The same for <code>42</code></p>
<pre class="r"><code>42</code></pre>
<pre><code>## [1] 42</code></pre>
<p>and the same for</p>
<pre class="r"><code>(100 * 2 - 12 ^ 2) / 7 * 5 + 2</code></pre>
<pre><code>## [1] 42</code></pre>
<p>There are also predefined constants like <code>pi</code> or <code>e</code></p>
<pre class="r"><code>sin(pi/2)</code></pre>
<pre><code>## [1] 1</code></pre>
<p>To find out the documentation of a specific function you can enter <code>?sum</code> or <code>help(sum)</code>. To search for functions, there is the <code>help.search(&quot;sin&quot;)</code> function to help you with that. For certain functions on can see examples of use by using the expression <code>example(plot)</code>. Comments start with <code>#</code>, while to assign values to variables you can use <code>&lt;-</code> or <code>=</code>. For example:</p>
<p>To find out the documentation of a specific function you can enter <code>?sum</code> or <code>help(sum)</code>. To search for functions, there is the <code>help.search(&quot;sin&quot;)</code> function to help you with that. For certain functions on can see examples of use by using the expression <code>example(plot)</code>. Comments start with <code>#</code>, while to assign values to variables you can use <code>&lt;-</code> or <code>=</code>. For example:</p>
<pre class="r"><code>a &lt;- 42
b &lt;- (42 + a) / 2
print(a)</code></pre>
<pre><code>## [1] 42</code></pre>
<pre class="r"><code>print(b)</code></pre>
<pre><code>## [1] 42</code></pre>
<p>With <code>ls()</code> one can check all the variables existing in the current R session.</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>##  [1] &quot;a&quot;                   &quot;accuracy&quot;            &quot;b&quot;                  
##  [4] &quot;centers.matrix&quot;      &quot;clustering&quot;          &quot;col&quot;                
##  [7] &quot;control&quot;             &quot;ctree&quot;               &quot;ctrl&quot;               
## [10] &quot;d&quot;                   &quot;data&quot;                &quot;data_new&quot;           
## [13] &quot;data_norm&quot;           &quot;dataset&quot;             &quot;dbscanClust&quot;        
## [16] &quot;demo&quot;                &quot;df&quot;                  &quot;distances&quot;          
## [19] &quot;entTree&quot;             &quot;evaluation&quot;          &quot;f&quot;                  
## [22] &quot;fileURL&quot;             &quot;fulldata&quot;            &quot;groups&quot;             
## [25] &quot;hc&quot;                  &quot;ind&quot;                 &quot;indices&quot;            
## [28] &quot;inTrain&quot;             &quot;kmeansClust&quot;         &quot;kNNFit&quot;             
## [31] &quot;kNNFit1&quot;             &quot;kNNFit2&quot;             &quot;kNNFit4&quot;            
## [34] &quot;knnFit5&quot;             &quot;knnPredict&quot;          &quot;knnPredict2&quot;        
## [37] &quot;logTrainDataX&quot;       &quot;logValidationDataX&quot;  &quot;model&quot;              
## [40] &quot;outlier.list1&quot;       &quot;outlier.list2&quot;       &quot;outlier.scores&quot;     
## [43] &quot;outliers&quot;            &quot;pch&quot;                 &quot;PimaIndiansDiabetes&quot;
## [46] &quot;precision&quot;           &quot;pred&quot;                &quot;pred_obj&quot;           
## [49] &quot;pred_prob&quot;           &quot;prediction&quot;          &quot;prediction_pca&quot;     
## [52] &quot;recall&quot;              &quot;ROCcurve&quot;            &quot;rules&quot;              
## [55] &quot;S&quot;                   &quot;simpler_model&quot;       &quot;simpler_pred&quot;       
## [58] &quot;Sonar&quot;               &quot;subset&quot;              &quot;testing&quot;            
## [61] &quot;train_pred&quot;          &quot;train_simpler_pred&quot;  &quot;train.pca&quot;          
## [64] &quot;trainData&quot;           &quot;trainDataX&quot;          &quot;trainDataY&quot;         
## [67] &quot;training&quot;            &quot;trans&quot;               &quot;tree&quot;               
## [70] &quot;tree_with_params&quot;    &quot;udv&quot;                 &quot;validation.pca&quot;     
## [73] &quot;validationData&quot;      &quot;validationDataX&quot;     &quot;validationDataY&quot;    
## [76] &quot;x&quot;                   &quot;x1&quot;                  &quot;x2&quot;                 
## [79] &quot;xtab&quot;                &quot;y&quot;                   &quot;y1&quot;                 
## [82] &quot;y2&quot;                  &quot;ytest&quot;</code></pre>
<pre class="r"><code># while to delete all the variables in the current session you can use the call: 
rm(list=ls())</code></pre>
</div>
<div id="vectors" class="section level2">
<h2>Vectors</h2>
<p>Create the vector <code>a = (10, 5, 3, 100, -2, 5, -50)</code></p>
<pre class="r"><code>a &lt;- c(10, 5, 3, 100, -2, 5, -50)
a</code></pre>
<pre><code>## [1]  10   5   3 100  -2   5 -50</code></pre>
<p>Select the elements of the vector with indices 1, 3, 4, and 5:</p>
<pre class="r"><code>a[c(1,3:4)]</code></pre>
<pre><code>## [1]  10   3 100</code></pre>
<p>The above expression uses the <code>c()</code> function for combining values and the <code>:</code> operator that generates sequences <code>from:to</code> with step 1. Another easy way of specifying sequences is to use the <code>seq</code> function.</p>
<pre class="r"><code>c(1, 2, 7, 10)</code></pre>
<pre><code>## [1]  1  2  7 10</code></pre>
<pre class="r"><code>1:10</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code>seq(1, 6, by=1)</code></pre>
<pre><code>## [1] 1 2 3 4 5 6</code></pre>
<pre class="r"><code>seq(1,6, by=2)</code></pre>
<pre><code>## [1] 1 3 5</code></pre>
<pre class="r"><code>seq(1,by=2, length=6)</code></pre>
<pre><code>## [1]  1  3  5  7  9 11</code></pre>
<p>Type <code>?seq</code> to get to know the function.</p>
<p>To check the type of a variable there is the <code>class</code> function:</p>
<pre class="r"><code>class(a)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<p>To check which <code>a</code> elements have a value greater than 5:</p>
<pre class="r"><code>a &gt; 5</code></pre>
<pre><code>## [1]  TRUE FALSE FALSE  TRUE FALSE FALSE FALSE</code></pre>
<pre class="r"><code>which(a&gt;5)</code></pre>
<pre><code>## [1] 1 4</code></pre>
<pre class="r"><code># returns the indices for which the values are TRUE</code></pre>
<p>To get the positive elements of a:</p>
<pre class="r"><code>b &lt;- a &gt; 0
positives &lt;- a[b]
positives</code></pre>
<pre><code>## [1]  10   5   3 100   5</code></pre>
<pre class="r"><code># or more succintly
positives &lt;- a[a&gt;0]
positives</code></pre>
<pre><code>## [1]  10   5   3 100   5</code></pre>
<p>To check the length of a vector:</p>
<pre class="r"><code>length(a)</code></pre>
<pre><code>## [1] 7</code></pre>
<p>One can also bind vectors by column (<code>cbind()</code>) or by row (<code>rbind()</code>)</p>
<pre class="r"><code>c &lt;- 1:7
rbind(a,c)</code></pre>
<pre><code>##   [,1] [,2] [,3] [,4] [,5] [,6] [,7]
## a   10    5    3  100   -2    5  -50
## c    1    2    3    4    5    6    7</code></pre>
<pre class="r"><code>cbind(a,c)</code></pre>
<pre><code>##        a c
## [1,]  10 1
## [2,]   5 2
## [3,]   3 3
## [4,] 100 4
## [5,]  -2 5
## [6,]   5 6
## [7,] -50 7</code></pre>
</div>
<div id="matrices" class="section level2">
<h2>Matrices</h2>
<p>To create matrics use the <code>matrix()</code> function</p>
<pre class="r"><code>matrix(10,3, 2)</code></pre>
<pre><code>##      [,1] [,2]
## [1,]   10   10
## [2,]   10   10
## [3,]   10   10</code></pre>
<pre class="r"><code># or
matrix(c(1,2,3,4,5,6), 3, 2)</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    4
## [2,]    2    5
## [3,]    3    6</code></pre>
<pre class="r"><code># or 
matrix(c(1,2,3), 3, 2)</code></pre>
<pre><code>##      [,1] [,2]
## [1,]    1    1
## [2,]    2    2
## [3,]    3    3</code></pre>
<p>But let’s examine how are we calling the <code>matrix</code> function:</p>
<pre class="r"><code>args(matrix)</code></pre>
<pre><code>## function (data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL) 
## NULL</code></pre>
<p>So the first argument are the data, then with <code>nrow</code> or <code>ncol</code> arguments we can declare the number of rows and columns and with the argument <code>byrow</code> we declare that we want to fill in the matrix column-by-column if <code>byrow=FALSE</code> and row-by-row if <code>byrow=TRUE</code>. In the above calls we didn’t use the <code>byrow</code> argument because the function <code>matrix</code> has a default value <code>byrow=FALSE</code> as we can also check from the documentation, <code>?matrix</code>.</p>
<pre class="r"><code>m = matrix(1:9, byrow = TRUE, nrow=3)
m</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<p>Here we have filled in a matrix with values 1 to 9, by row, with the number of rows equal to 3. This gives us a square 3x3 matrix. R is pretty smart in knowing that the number of columns should be 3 as well!</p>
<p>We can also call <code>cbind</code> and <code>rbind</code> and other functions like <code>rowSums</code>, <code>colSums</code>, <code>mean</code>, <code>t</code> for transpose etc.</p>
<pre class="r"><code>m2 &lt;- rbind(m, m)
m2</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9
## [4,]    1    2    3
## [5,]    4    5    6
## [6,]    7    8    9</code></pre>
<pre class="r"><code>rowSums(m2)</code></pre>
<pre><code>## [1]  6 15 24  6 15 24</code></pre>
<pre class="r"><code>colSums(m2)</code></pre>
<pre><code>## [1] 24 30 36</code></pre>
<pre class="r"><code>mean(m2)</code></pre>
<pre><code>## [1] 5</code></pre>
<p>For element wise multiplication on can use the <code>*</code> operator while for matrix multiplication you can use the <code>%*%</code> operator.</p>
<pre class="r"><code>am &lt;- matrix(10:18, byrow = TRUE, nrow = 3)
am</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   11   12
## [2,]   13   14   15
## [3,]   16   17   18</code></pre>
<pre class="r"><code>bm &lt;- matrix(c(3,6,7,10,8,1,2,3,2), byrow = TRUE, nrow = 3)
bm</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    3    6    7
## [2,]   10    8    1
## [3,]    2    3    2</code></pre>
<pre class="r"><code>am * bm</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]   30   66   84
## [2,]  130  112   15
## [3,]   32   51   36</code></pre>
<pre class="r"><code>am %*% bm</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]  164  184  105
## [2,]  209  235  135
## [3,]  254  286  165</code></pre>
<pre class="r"><code>t(am)</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   13   16
## [2,]   11   14   17
## [3,]   12   15   18</code></pre>
</div>
<div id="data-frames" class="section level2">
<h2>Data frames</h2>
<p>Unlike matrices, data frames can store values of different types in their columns. They are used extensively in R for data analysis. As rows usually we have the observations (or samples) and as columns we have the characteristics (or attributes or features). When we read from a file, the result is read as a data frame. Download the zip file <a href="http://swcarpentry.github.io/r-novice-inflammation/files/r-novice-inflammation-data.zip">r-novice-inflammation.zip</a> and unzip it in the Desktop. Examine the file <code>inflammation-01.csv</code> with a text editor to see what we are going to be loading. The read the file:</p>
<pre class="r"><code>data &lt;- read.csv(file = &quot;data/inflammation-01.csv&quot;, header = FALSE)
# Notice the use of the path including data/ since we previously set the working directory as the Desktop
getwd()</code></pre>
<pre><code>## [1] &quot;/Users/kyrcha/Workspaces/github/ml-tutorials&quot;</code></pre>
<pre class="r"><code>dir()</code></pre>
<pre><code>##  [1] &quot;_site.yml&quot;                    &quot;ar.html&quot;                     
##  [3] &quot;ar.Rmd&quot;                       &quot;breast-cancer-wisconsin.data&quot;
##  [5] &quot;cfs.html&quot;                     &quot;cfs.Rmd&quot;                     
##  [7] &quot;classification.html&quot;          &quot;classification.Rmd&quot;          
##  [9] &quot;clustering.html&quot;              &quot;clustering.Rmd&quot;              
## [11] &quot;CNAME&quot;                        &quot;data&quot;                        
## [13] &quot;data-eng.html&quot;                &quot;data-eng.Rmd&quot;                
## [15] &quot;dbscan_files&quot;                 &quot;dbscan.html&quot;                 
## [17] &quot;dbscan.Rmd&quot;                   &quot;docs&quot;                        
## [19] &quot;dt_files&quot;                     &quot;dt.html&quot;                     
## [21] &quot;dt.Rmd&quot;                       &quot;finder.html&quot;                 
## [23] &quot;finder.Rmd&quot;                   &quot;footer.html&quot;                 
## [25] &quot;footer.tex&quot;                   &quot;head.tex&quot;                    
## [27] &quot;hierarchical_files&quot;           &quot;hierarchical.html&quot;           
## [29] &quot;hierarchical.Rmd&quot;             &quot;index.html&quot;                  
## [31] &quot;index.Rmd&quot;                    &quot;intro_files&quot;                 
## [33] &quot;intro.html&quot;                   &quot;intro.Rmd&quot;                   
## [35] &quot;kmeans_files&quot;                 &quot;kmeans.html&quot;                 
## [37] &quot;kmeans.Rmd&quot;                   &quot;knn_files&quot;                   
## [39] &quot;knn.html&quot;                     &quot;knn.Rmd&quot;                     
## [41] &quot;ml-tutorials.Rproj&quot;           &quot;nb_files&quot;                    
## [43] &quot;nb.html&quot;                      &quot;nb.Rmd&quot;                      
## [45] &quot;nn.html&quot;                      &quot;nn.Rmd&quot;                      
## [47] &quot;other.html&quot;                   &quot;other.Rmd&quot;                   
## [49] &quot;outlier_files&quot;                &quot;outlier.html&quot;                
## [51] &quot;outlier.Rmd&quot;                  &quot;pca_files&quot;                   
## [53] &quot;pca.html&quot;                     &quot;pca.Rmd&quot;                     
## [55] &quot;r.html&quot;                       &quot;r.Rmd&quot;                       
## [57] &quot;README.html&quot;                  &quot;README.md&quot;                   
## [59] &quot;render.sh&quot;                    &quot;retail.data.gz&quot;              
## [61] &quot;rfe.Rmd&quot;                      &quot;site_libs&quot;                   
## [63] &quot;style.css&quot;                    &quot;uc.Rmd&quot;                      
## [65] &quot;wrapper.Rmd&quot;</code></pre>
<p>The <code>dir</code> function return the files and directories of the file system. The argument <code>header=FALSE</code> lets the <code>read.csv</code> function know that there is no header row to give the columns names.</p>
<p>With <code>head(data)</code> I can check if the data are loaded correctly. It return the first few rows:</p>
<pre class="r"><code>head(data)</code></pre>
<pre><code>##   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20
## 1  0  0  1  3  1  2  4  7  8   3   3   3  10   5   7   4   7   7  12  18
## 2  0  1  2  1  2  1  3  2  2   6  10  11   5   9   4   4   7  16   8   6
## 3  0  1  1  3  3  2  6  2  5   9   5   7   4   5   4  15   5  11   9  10
## 4  0  0  2  0  4  2  2  1  6   7  10   7   9  13   8   8  15  10  10   7
## 5  0  1  1  3  3  1  3  5  2   4   4   7   6   5   3  10   8  10   6  17
## 6  0  0  1  2  2  4  2  1  6   4   7   6   6   9   9  15   4  16  18  12
##   V21 V22 V23 V24 V25 V26 V27 V28 V29 V30 V31 V32 V33 V34 V35 V36 V37 V38
## 1   6  13  11  11   7   7   4   6   8   8   4   4   5   7   3   4   2   3
## 2  18   4  12   5  12   7  11   5  11   3   3   5   4   4   5   5   1   1
## 3  19  14  12  17   7  12  11   7   4   2  10   5   4   2   2   3   2   2
## 4  17   4   4   7   6  15   6   4   9  11   3   5   6   3   3   4   2   3
## 5   9  14   9   7  13   9  12   6   7   7   9   6   3   2   2   4   2   0
## 6  12   5  18   9   5   3  10   3  12   7   8   4   7   3   5   4   4   3
##   V39 V40
## 1   0   0
## 2   0   1
## 3   1   1
## 4   2   1
## 5   1   1
## 6   2   1</code></pre>
<p>Other function I can use are:</p>
<pre class="r"><code># type of the variable
class(data)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre class="r"><code># dimensions
dim(data)</code></pre>
<pre><code>## [1] 60 40</code></pre>
<pre class="r"><code># structure
str(data)</code></pre>
<pre><code>## &#39;data.frame&#39;:    60 obs. of  40 variables:
##  $ V1 : int  0 0 0 0 0 0 0 0 0 0 ...
##  $ V2 : int  0 1 1 0 1 0 0 0 0 1 ...
##  $ V3 : int  1 2 1 2 1 1 2 1 0 1 ...
##  $ V4 : int  3 1 3 0 3 2 2 2 3 2 ...
##  $ V5 : int  1 2 3 4 3 2 4 3 1 1 ...
##  $ V6 : int  2 1 2 2 1 4 2 1 5 3 ...
##  $ V7 : int  4 3 6 2 3 2 2 2 6 5 ...
##  $ V8 : int  7 2 2 1 5 1 5 3 5 3 ...
##  $ V9 : int  8 2 5 6 2 6 5 5 5 5 ...
##  $ V10: int  3 6 9 7 4 4 8 3 8 8 ...
##  $ V11: int  3 10 5 10 4 7 6 7 2 6 ...
##  $ V12: int  3 11 7 7 7 6 5 8 4 8 ...
##  $ V13: int  10 5 4 9 6 6 11 8 11 12 ...
##  $ V14: int  5 9 5 13 5 9 9 5 12 5 ...
##  $ V15: int  7 4 4 8 3 9 4 10 10 13 ...
##  $ V16: int  4 4 15 8 10 15 13 9 11 6 ...
##  $ V17: int  7 7 5 15 8 4 5 15 9 13 ...
##  $ V18: int  7 16 11 10 10 16 12 11 10 8 ...
##  $ V19: int  12 8 9 10 6 18 10 18 17 16 ...
##  $ V20: int  18 6 10 7 17 12 6 19 11 8 ...
##  $ V21: int  6 18 19 17 9 12 9 20 6 18 ...
##  $ V22: int  13 4 14 4 14 5 17 8 16 15 ...
##  $ V23: int  11 12 12 4 9 18 15 5 12 16 ...
##  $ V24: int  11 5 17 7 7 9 8 13 6 14 ...
##  $ V25: int  7 12 7 6 13 5 9 15 8 12 ...
##  $ V26: int  7 7 12 15 9 3 3 10 14 7 ...
##  $ V27: int  4 11 11 6 12 10 13 6 6 3 ...
##  $ V28: int  6 5 7 4 6 3 7 10 13 8 ...
##  $ V29: int  8 11 4 9 7 12 8 6 10 9 ...
##  $ V30: int  8 3 2 11 7 7 2 7 11 11 ...
##  $ V31: int  4 3 10 3 9 8 8 4 4 2 ...
##  $ V32: int  4 5 5 5 6 4 8 9 6 5 ...
##  $ V33: int  5 4 4 6 3 7 4 3 4 4 ...
##  $ V34: int  7 4 2 3 2 3 2 5 7 5 ...
##  $ V35: int  3 5 2 3 2 5 3 2 6 1 ...
##  $ V36: int  4 5 3 4 4 4 5 5 3 4 ...
##  $ V37: int  2 1 2 2 2 4 4 3 2 1 ...
##  $ V38: int  3 1 2 3 0 3 1 2 1 2 ...
##  $ V39: int  0 0 1 2 1 2 1 2 0 0 ...
##  $ V40: int  0 1 1 1 1 1 1 1 0 0 ...</code></pre>
<pre class="r"><code># statistical summarization of the data frame
summary(data)</code></pre>
<pre><code>##        V1          V2             V3              V4             V5       
##  Min.   :0   Min.   :0.00   Min.   :0.000   Min.   :0.00   Min.   :1.000  
##  1st Qu.:0   1st Qu.:0.00   1st Qu.:1.000   1st Qu.:1.00   1st Qu.:1.000  
##  Median :0   Median :0.00   Median :1.000   Median :2.00   Median :2.000  
##  Mean   :0   Mean   :0.45   Mean   :1.117   Mean   :1.75   Mean   :2.433  
##  3rd Qu.:0   3rd Qu.:1.00   3rd Qu.:2.000   3rd Qu.:3.00   3rd Qu.:3.000  
##  Max.   :0   Max.   :1.00   Max.   :2.000   Max.   :3.00   Max.   :4.000  
##        V6             V7            V8              V9       
##  Min.   :1.00   Min.   :1.0   Min.   :1.000   Min.   :2.000  
##  1st Qu.:2.00   1st Qu.:2.0   1st Qu.:2.000   1st Qu.:4.000  
##  Median :3.00   Median :4.0   Median :4.000   Median :5.000  
##  Mean   :3.15   Mean   :3.8   Mean   :3.883   Mean   :5.233  
##  3rd Qu.:4.00   3rd Qu.:5.0   3rd Qu.:5.250   3rd Qu.:7.000  
##  Max.   :5.00   Max.   :6.0   Max.   :7.000   Max.   :8.000  
##       V10             V11             V12             V13       
##  Min.   :2.000   Min.   : 2.00   Min.   : 2.00   Min.   : 3.00  
##  1st Qu.:3.750   1st Qu.: 4.00   1st Qu.: 3.75   1st Qu.: 5.00  
##  Median :6.000   Median : 6.00   Median : 5.50   Median : 9.50  
##  Mean   :5.517   Mean   : 5.95   Mean   : 5.90   Mean   : 8.35  
##  3rd Qu.:7.000   3rd Qu.: 9.00   3rd Qu.: 8.00   3rd Qu.:11.00  
##  Max.   :9.000   Max.   :10.00   Max.   :11.00   Max.   :12.00  
##       V14              V15              V16            V17        
##  Min.   : 3.000   Min.   : 3.000   Min.   : 3.0   Min.   : 4.000  
##  1st Qu.: 5.000   1st Qu.: 5.000   1st Qu.: 6.0   1st Qu.: 6.750  
##  Median : 8.000   Median : 8.000   Median :10.0   Median : 8.500  
##  Mean   : 7.733   Mean   : 8.367   Mean   : 9.5   Mean   : 9.583  
##  3rd Qu.:10.000   3rd Qu.:12.000   3rd Qu.:13.0   3rd Qu.:13.000  
##  Max.   :13.000   Max.   :14.000   Max.   :15.0   Max.   :16.000  
##       V18             V19             V20             V21       
##  Min.   : 5.00   Min.   : 5.00   Min.   : 5.00   Min.   : 5.00  
##  1st Qu.: 7.75   1st Qu.: 8.00   1st Qu.: 8.75   1st Qu.: 9.00  
##  Median :11.00   Median :11.50   Median :13.00   Median :14.00  
##  Mean   :10.63   Mean   :11.57   Mean   :12.35   Mean   :13.25  
##  3rd Qu.:13.00   3rd Qu.:15.00   3rd Qu.:16.00   3rd Qu.:16.25  
##  Max.   :17.00   Max.   :18.00   Max.   :19.00   Max.   :20.00  
##       V22             V23             V24             V25      
##  Min.   : 4.00   Min.   : 4.00   Min.   : 4.00   Min.   : 4.0  
##  1st Qu.: 8.00   1st Qu.: 7.75   1st Qu.: 6.75   1st Qu.: 7.0  
##  Median :13.00   Median :11.00   Median :10.00   Median :10.5  
##  Mean   :11.97   Mean   :11.03   Mean   :10.17   Mean   :10.0  
##  3rd Qu.:15.25   3rd Qu.:15.00   3rd Qu.:13.25   3rd Qu.:13.0  
##  Max.   :19.00   Max.   :18.00   Max.   :17.00   Max.   :16.0  
##       V26              V27             V28             V29        
##  Min.   : 3.000   Min.   : 3.00   Min.   : 3.00   Min.   : 3.000  
##  1st Qu.: 5.750   1st Qu.: 7.00   1st Qu.: 5.00   1st Qu.: 5.000  
##  Median : 9.000   Median :10.00   Median : 7.00   Median : 7.000  
##  Mean   : 8.667   Mean   : 9.15   Mean   : 7.25   Mean   : 7.333  
##  3rd Qu.:12.000   3rd Qu.:12.00   3rd Qu.: 9.00   3rd Qu.:10.000  
##  Max.   :15.000   Max.   :14.00   Max.   :13.00   Max.   :12.000  
##       V30              V31              V32            V33       
##  Min.   : 2.000   Min.   : 2.000   Min.   :2.00   Min.   :2.000  
##  1st Qu.: 3.000   1st Qu.: 4.000   1st Qu.:4.00   1st Qu.:4.000  
##  Median : 7.000   Median : 6.000   Median :6.00   Median :5.000  
##  Mean   : 6.583   Mean   : 6.067   Mean   :5.95   Mean   :5.117  
##  3rd Qu.:10.000   3rd Qu.: 8.000   3rd Qu.:8.00   3rd Qu.:6.000  
##  Max.   :11.000   Max.   :10.000   Max.   :9.00   Max.   :8.000  
##       V34           V35           V36             V37             V38     
##  Min.   :1.0   Min.   :1.0   Min.   :1.000   Min.   :1.000   Min.   :0.0  
##  1st Qu.:2.0   1st Qu.:2.0   1st Qu.:2.000   1st Qu.:2.000   1st Qu.:0.0  
##  Median :4.0   Median :3.0   Median :4.000   Median :2.000   Median :1.0  
##  Mean   :3.6   Mean   :3.3   Mean   :3.567   Mean   :2.483   Mean   :1.5  
##  3rd Qu.:5.0   3rd Qu.:5.0   3rd Qu.:5.000   3rd Qu.:4.000   3rd Qu.:3.0  
##  Max.   :7.0   Max.   :6.0   Max.   :5.000   Max.   :4.000   Max.   :3.0  
##       V39             V40        
##  Min.   :0.000   Min.   :0.0000  
##  1st Qu.:0.000   1st Qu.:0.0000  
##  Median :1.000   Median :1.0000  
##  Mean   :1.133   Mean   :0.5667  
##  3rd Qu.:2.000   3rd Qu.:1.0000  
##  Max.   :2.000   Max.   :1.0000</code></pre>
<p>There are also different way I can select slices of data from the data frame</p>
<pre class="r"><code># first value in data
data[1, 1]</code></pre>
<pre><code>## [1] 0</code></pre>
<pre class="r"><code># middle value in data
data[30, 20]</code></pre>
<pre><code>## [1] 16</code></pre>
<pre class="r"><code># first four rows and first ten columns
data[1:4, 1:10]</code></pre>
<pre><code>##   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10
## 1  0  0  1  3  1  2  4  7  8   3
## 2  0  1  2  1  2  1  3  2  2   6
## 3  0  1  1  3  3  2  6  2  5   9
## 4  0  0  2  0  4  2  2  1  6   7</code></pre>
<pre class="r"><code># doesn&#39;t have to start from the beginning
data[5:10, 1:10]</code></pre>
<pre><code>##    V1 V2 V3 V4 V5 V6 V7 V8 V9 V10
## 5   0  1  1  3  3  1  3  5  2   4
## 6   0  0  1  2  2  4  2  1  6   4
## 7   0  0  2  2  4  2  2  5  5   8
## 8   0  0  1  2  3  1  2  3  5   3
## 9   0  0  0  3  1  5  6  5  5   8
## 10  0  1  1  2  1  3  5  3  5   8</code></pre>
<pre class="r"><code># specific rows and columns
data[c(3, 8, 37, 56), c(10, 14, 29)]</code></pre>
<pre><code>##    V10 V14 V29
## 3    9   5   4
## 8    3   5   6
## 37   6   9  10
## 56   7  11   9</code></pre>
<pre class="r"><code># All columns from row 5
data[5, ]</code></pre>
<pre><code>##   V1 V2 V3 V4 V5 V6 V7 V8 V9 V10 V11 V12 V13 V14 V15 V16 V17 V18 V19 V20
## 5  0  1  1  3  3  1  3  5  2   4   4   7   6   5   3  10   8  10   6  17
##   V21 V22 V23 V24 V25 V26 V27 V28 V29 V30 V31 V32 V33 V34 V35 V36 V37 V38
## 5   9  14   9   7  13   9  12   6   7   7   9   6   3   2   2   4   2   0
##   V39 V40
## 5   1   1</code></pre>
<pre class="r"><code># All rows from column 16
data[, 16]</code></pre>
<pre><code>##  [1]  4  4 15  8 10 15 13  9 11  6  3  8 12  3  5 10 11  4 11 13 15  5 14
## [24] 13  4  9 13  6  7  6 14  3 15  4 15 11  7 10 15  6  5  6 15 11 15  6
## [47] 11 15 14  4 10 15 11  6 13  8  4 13 12  9</code></pre>
<p>A subtle point is that the last selection returned a vector instead of a data frame. This is because we selected only a single column. If you don’t want this behavior do:</p>
<pre class="r"><code># All columns from row 5
d1 &lt;- data[5, ]
class(d1)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<pre class="r"><code># All rows from column 16
d2 &lt;- data[, 16]
class(d2)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="r"><code>d3 &lt;- data[, 16, drop=FALSE]
class(d3)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Other functions you can call are <code>min</code>, <code>max</code>, <code>mean</code>, <code>sd</code> and <code>median</code> to get statistical values of interest:</p>
<pre class="r"><code># first row, all of the columns
patient_1 &lt;- data[1, ]

# max inflammation for patient 1
max(patient_1)</code></pre>
<pre><code>## [1] 18</code></pre>
<pre class="r"><code># max inflammation for patient 2
max(data[2, ])</code></pre>
<pre><code>## [1] 18</code></pre>
<pre class="r"><code># minimum inflammation on day 7
min(data[, 7])</code></pre>
<pre><code>## [1] 1</code></pre>
<pre class="r"><code># mean inflammation on day 7
mean(data[, 7])</code></pre>
<pre><code>## [1] 3.8</code></pre>
<pre class="r"><code># median inflammation on day 7
median(data[, 7])</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code># standard deviation of inflammation on day 7
sd(data[, 7])</code></pre>
<pre><code>## [1] 1.725187</code></pre>
<p>To do more complex calculations like <code>the maximum inflammation for all patients, or the average for each day?</code> we need to apply the function <code>max</code> or <code>mean</code> per row or column respectivelly. Luckily there is the function <code>apply</code> that applies a function for each one of the “margins”, 1 for rows and 2 for columns:</p>
<pre class="r"><code>args(apply) # args return NULL because it prints the information, but every function must return something!</code></pre>
<pre><code>## function (X, MARGIN, FUN, ...) 
## NULL</code></pre>
<pre class="r"><code>max_patient_inflammation &lt;- apply(data, 1, max)
max_patient_inflammation</code></pre>
<pre><code>##  [1] 18 18 19 17 17 18 17 20 17 18 18 18 17 16 17 18 19 19 17 19 19 16 17
## [24] 15 17 17 18 17 20 17 16 19 15 15 19 17 16 17 19 16 18 19 16 19 18 16
## [47] 19 15 16 18 14 20 17 15 17 16 17 19 18 18</code></pre>
<pre class="r"><code>avg_day_inflammation &lt;- apply(data, 2, mean)
avg_day_inflammation</code></pre>
<pre><code>##         V1         V2         V3         V4         V5         V6 
##  0.0000000  0.4500000  1.1166667  1.7500000  2.4333333  3.1500000 
##         V7         V8         V9        V10        V11        V12 
##  3.8000000  3.8833333  5.2333333  5.5166667  5.9500000  5.9000000 
##        V13        V14        V15        V16        V17        V18 
##  8.3500000  7.7333333  8.3666667  9.5000000  9.5833333 10.6333333 
##        V19        V20        V21        V22        V23        V24 
## 11.5666667 12.3500000 13.2500000 11.9666667 11.0333333 10.1666667 
##        V25        V26        V27        V28        V29        V30 
## 10.0000000  8.6666667  9.1500000  7.2500000  7.3333333  6.5833333 
##        V31        V32        V33        V34        V35        V36 
##  6.0666667  5.9500000  5.1166667  3.6000000  3.3000000  3.5666667 
##        V37        V38        V39        V40 
##  2.4833333  1.5000000  1.1333333  0.5666667</code></pre>
<p>Now let’s do some plotting</p>
<pre class="r"><code>plot(avg_day_inflammation)</code></pre>
<p><img src="intro_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<pre class="r"><code>max_day_inflammation &lt;- apply(data, 2, max)
plot(max_day_inflammation)</code></pre>
<p><img src="intro_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<pre class="r"><code>min_day_inflammation &lt;- apply(data, 2, min)
plot(min_day_inflammation)</code></pre>
<p><img src="intro_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p><code>plot</code> is a function with many arguments so you will probably need to study a lot of examples to do what you want (change an axis, name an axis, change the plot points and/or lines, add title, add grids, add legend, color the graph, add arrows and text etc.)</p>
</div>
<div id="r-scripts" class="section level2">
<h2>R Scripts</h2>
<p>So far we have been typing directly into the R command line. What we could also do is save a sequence of commands in an R source file to run it at will. The way to do this is to have such a file with an <code>.R</code> extension and use the function <code>source</code> to run it.</p>
<p>If the source file contains an analysis from the beginning to the end it is a good practice to always clear your session of variables using <code>rm(list=ls())</code>. On the other hand if it is used as a library, for example to load some functions you have created, then you probably should not do it. You can also include other source files inside your current source file using the function (you guessed it): <code>source</code></p>
<p>Because it is a good practice to have coding guidelines/conventions for standardizing the way you write your script to make it more readable, Google has some: <a href="https://google.github.io/styleguide/Rguide.xml" class="uri">https://google.github.io/styleguide/Rguide.xml</a></p>
</div>
<div id="functions" class="section level2">
<h2>Functions</h2>
<p>Let’s learn how to create functions by creating a fuction <code>fahr_to_kelvin</code> that converts temperatures from Fahrenheit to Kelvin:</p>
<pre class="r"><code>fahr_to_kelvin &lt;- function(temp) {
  kelvin &lt;- ((temp - 32) * (5 / 9)) + 273.15
  return(kelvin)
}</code></pre>
<p>To run a function:</p>
<pre class="r"><code># freezing point of water
fahr_to_kelvin(32)</code></pre>
<pre><code>## [1] 273.15</code></pre>
<pre class="r"><code># boiling point of water
fahr_to_kelvin(212)</code></pre>
<pre><code>## [1] 373.15</code></pre>
<p>Let’s also create a function that converts Kelvin to Celcius:</p>
<pre class="r"><code>kelvin_to_celsius &lt;- function(temp) {
  celsius &lt;- temp - 273.15
  return(celsius)
}

#absolute zero in Celsius
kelvin_to_celsius(0)</code></pre>
<pre><code>## [1] -273.15</code></pre>
<p>We can also use functions inside functions</p>
<pre class="r"><code>fahr_to_celsius &lt;- function(temp) {
  temp_k &lt;- fahr_to_kelvin(temp)
  result &lt;- kelvin_to_celsius(temp_k)
  return(result)
}

# freezing point of water in Celsius
fahr_to_celsius(32.0)</code></pre>
<pre><code>## [1] 0</code></pre>
<p>or we can obtain this result by function chaining:</p>
<pre class="r"><code># freezing point of water in Celsius
kelvin_to_celsius(fahr_to_kelvin(32.0))</code></pre>
<pre><code>## [1] 0</code></pre>
</div>
<div id="for-loops" class="section level2">
<h2>For loops</h2>
<p>Like all the programming language R also has <code>for</code> loops to do recurring tasks. In general the syntax is:</p>
<pre><code>for (variable in collection) {
  do things with variable
}</code></pre>
<p>Let’s do an example:</p>
<pre class="r"><code>best_practice &lt;- c(&quot;Let&quot;, &quot;the&quot;, &quot;computer&quot;, &quot;do&quot;, &quot;the&quot;, &quot;work&quot;)

print_words &lt;- function(sentence) {
  for (word in sentence) {
    print(word)
  }
}

print_words(best_practice)</code></pre>
<pre><code>## [1] &quot;Let&quot;
## [1] &quot;the&quot;
## [1] &quot;computer&quot;
## [1] &quot;do&quot;
## [1] &quot;the&quot;
## [1] &quot;work&quot;</code></pre>
<p>or another example:</p>
<pre class="r"><code>len &lt;- 0
vowels &lt;- c(&quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, &quot;u&quot;)
for (v in vowels) {
  len &lt;- len + 1
}
# Number of vowels
len</code></pre>
<pre><code>## [1] 5</code></pre>
</div>
<div id="making-decisions-if-else" class="section level2">
<h2>Making decisions (if &amp; else)</h2>
<p>To make decisions in your R scripts, R provides you with the standard if-else conditional statements</p>
<pre class="r"><code>num &lt;- 37
if (num &gt; 100) {
  print(&quot;greater&quot;)
} else {
  print(&quot;not greater&quot;)
}</code></pre>
<pre><code>## [1] &quot;not greater&quot;</code></pre>
<pre class="r"><code>print(&quot;done&quot;)</code></pre>
<pre><code>## [1] &quot;done&quot;</code></pre>
<pre class="r"><code># or let&#39;s create a function that uses conditionals

sign &lt;- function(num) {
  if (num &gt; 0) {
    return(1)
  } else if (num == 0) {
    return(0)
  } else {
    return(-1)
  }
}

sign(-3)</code></pre>
<pre><code>## [1] -1</code></pre>
<p>You can make decisions using the logical operators</p>
<ul>
<li>equal (<code>==</code>)</li>
<li>greater than or equal to (<code>&gt;=</code>),</li>
<li>less than or equal to (<code>&lt;=</code>),</li>
<li>and not equal to (<code>!=</code>).</li>
</ul>
<p>We can also combine tests. An ampersand, <code>&amp;</code>, symbolizes ???and???. A vertical bar, <code>|</code>, symbolizes ???or???.</p>
</div>
<div id="datasets-and-statistics" class="section level2">
<h2>Datasets and statistics</h2>
<p>By running the function <code>data()</code> we can see some datasets that are currently included in the R installation. To check for example the iris dataset, we can for example use the function:</p>
<pre class="r"><code>head(iris)</code></pre>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>To see the structure of it:</p>
<pre class="r"><code>str(iris)</code></pre>
<pre><code>## &#39;data.frame&#39;:    150 obs. of  5 variables:
##  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
##  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
##  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
##  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
##  $ Species     : Factor w/ 3 levels &quot;setosa&quot;,&quot;versicolor&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...</code></pre>
<p>For a statistical summary</p>
<pre class="r"><code>summary(iris)</code></pre>
<pre><code>##   Sepal.Length    Sepal.Width     Petal.Length    Petal.Width   
##  Min.   :4.300   Min.   :2.000   Min.   :1.000   Min.   :0.100  
##  1st Qu.:5.100   1st Qu.:2.800   1st Qu.:1.600   1st Qu.:0.300  
##  Median :5.800   Median :3.000   Median :4.350   Median :1.300  
##  Mean   :5.843   Mean   :3.057   Mean   :3.758   Mean   :1.199  
##  3rd Qu.:6.400   3rd Qu.:3.300   3rd Qu.:5.100   3rd Qu.:1.800  
##  Max.   :7.900   Max.   :4.400   Max.   :6.900   Max.   :2.500  
##        Species  
##  setosa    :50  
##  versicolor:50  
##  virginica :50  
##                 
##                 
## </code></pre>
<p>For the Species column, one can observe that the summary function did not do the standard statistical calculation like it did with the other variables. From the <code>str</code> function we can see that the Species column is a factor, which is what R uses to declare categorial or ordinal values. More on that in the next section.</p>
<p>We can also get the full attribute of <code>Sepal.Length</code> for example by name</p>
<pre class="r"><code>iris$Sepal.Length</code></pre>
<pre><code>##   [1] 5.1 4.9 4.7 4.6 5.0 5.4 4.6 5.0 4.4 4.9 5.4 4.8 4.8 4.3 5.8 5.7 5.4
##  [18] 5.1 5.7 5.1 5.4 5.1 4.6 5.1 4.8 5.0 5.0 5.2 5.2 4.7 4.8 5.4 5.2 5.5
##  [35] 4.9 5.0 5.5 4.9 4.4 5.1 5.0 4.5 4.4 5.0 5.1 4.8 5.1 4.6 5.3 5.0 7.0
##  [52] 6.4 6.9 5.5 6.5 5.7 6.3 4.9 6.6 5.2 5.0 5.9 6.0 6.1 5.6 6.7 5.6 5.8
##  [69] 6.2 5.6 5.9 6.1 6.3 6.1 6.4 6.6 6.8 6.7 6.0 5.7 5.5 5.5 5.8 6.0 5.4
##  [86] 6.0 6.7 6.3 5.6 5.5 5.5 6.1 5.8 5.0 5.6 5.7 5.7 6.2 5.1 5.7 6.3 5.8
## [103] 7.1 6.3 6.5 7.6 4.9 7.3 6.7 7.2 6.5 6.4 6.8 5.7 5.8 6.4 6.5 7.7 7.7
## [120] 6.0 6.9 5.6 7.7 6.3 6.7 7.2 6.2 6.1 6.4 7.2 7.4 7.9 6.4 6.3 6.1 7.7
## [137] 6.3 6.4 6.0 6.9 6.7 6.9 5.8 6.8 6.7 6.7 6.3 6.5 6.2 5.9</code></pre>
<p>and run the standard statistics:</p>
<pre class="r"><code>print(&quot;mean&quot;)</code></pre>
<pre><code>## [1] &quot;mean&quot;</code></pre>
<pre class="r"><code>mean(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 5.843333</code></pre>
<pre class="r"><code>print(&quot;median&quot;)</code></pre>
<pre><code>## [1] &quot;median&quot;</code></pre>
<pre class="r"><code>median(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 5.8</code></pre>
<pre class="r"><code>print(&quot;min&quot;)</code></pre>
<pre><code>## [1] &quot;min&quot;</code></pre>
<pre class="r"><code>min(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 4.3</code></pre>
<pre class="r"><code>print(&quot;max&quot;)</code></pre>
<pre><code>## [1] &quot;max&quot;</code></pre>
<pre class="r"><code>max(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 7.9</code></pre>
<pre class="r"><code>print(&quot;sd&quot;)</code></pre>
<pre><code>## [1] &quot;sd&quot;</code></pre>
<pre class="r"><code>sd(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 0.8280661</code></pre>
<pre class="r"><code>print(&quot;var&quot;)</code></pre>
<pre><code>## [1] &quot;var&quot;</code></pre>
<pre class="r"><code>var(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 0.6856935</code></pre>
<pre class="r"><code>print(&quot;range&quot;)</code></pre>
<pre><code>## [1] &quot;range&quot;</code></pre>
<pre class="r"><code>range(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 4.3 7.9</code></pre>
<pre class="r"><code># or other functions like:
print(&quot;sort&quot;)</code></pre>
<pre><code>## [1] &quot;sort&quot;</code></pre>
<pre class="r"><code>sort(iris$Sepal.Length)</code></pre>
<pre><code>##   [1] 4.3 4.4 4.4 4.4 4.5 4.6 4.6 4.6 4.6 4.7 4.7 4.8 4.8 4.8 4.8 4.8 4.9
##  [18] 4.9 4.9 4.9 4.9 4.9 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.0 5.1 5.1
##  [35] 5.1 5.1 5.1 5.1 5.1 5.1 5.1 5.2 5.2 5.2 5.2 5.3 5.4 5.4 5.4 5.4 5.4
##  [52] 5.4 5.5 5.5 5.5 5.5 5.5 5.5 5.5 5.6 5.6 5.6 5.6 5.6 5.6 5.7 5.7 5.7
##  [69] 5.7 5.7 5.7 5.7 5.7 5.8 5.8 5.8 5.8 5.8 5.8 5.8 5.9 5.9 5.9 6.0 6.0
##  [86] 6.0 6.0 6.0 6.0 6.1 6.1 6.1 6.1 6.1 6.1 6.2 6.2 6.2 6.2 6.3 6.3 6.3
## [103] 6.3 6.3 6.3 6.3 6.3 6.3 6.4 6.4 6.4 6.4 6.4 6.4 6.4 6.5 6.5 6.5 6.5
## [120] 6.5 6.6 6.6 6.7 6.7 6.7 6.7 6.7 6.7 6.7 6.7 6.8 6.8 6.8 6.9 6.9 6.9
## [137] 6.9 7.0 7.1 7.2 7.2 7.2 7.3 7.4 7.6 7.7 7.7 7.7 7.7 7.9</code></pre>
<pre class="r"><code>print(&quot;length&quot;)</code></pre>
<pre><code>## [1] &quot;length&quot;</code></pre>
<pre class="r"><code>length(iris$Sepal.Length)</code></pre>
<pre><code>## [1] 150</code></pre>
</div>
<div id="factors" class="section level2">
<h2>Factors</h2>
<p>The factor() command is used to create and modify factors in R:</p>
<pre class="r"><code>sex &lt;- factor(c(&quot;male&quot;, &quot;female&quot;, &quot;female&quot;, &quot;male&quot;))</code></pre>
<p>R will assign 1 to the level <code>&quot;female&quot;</code> and 2 to the level <code>&quot;male&quot;</code> (because <code>f</code> comes before <code>m</code>, even though the first element in this vector is <code>&quot;male&quot;</code>). You can check this by using the function <code>levels()</code>, and check the number of levels using <code>nlevels()</code>:</p>
<pre class="r"><code>levels(sex)</code></pre>
<pre><code>## [1] &quot;female&quot; &quot;male&quot;</code></pre>
<pre class="r"><code>nlevels(sex)</code></pre>
<pre><code>## [1] 2</code></pre>
<p>Sometimes, the order of the factors does not matter, other times you might want to specify the order because it is meaningful (e.g., ???low???, ???medium???, ???high???) or it is required by particular type of analysis. Additionally, specifying the order of the levels allows us to compare levels:</p>
<pre class="r"><code>food &lt;- factor(c(&quot;low&quot;, &quot;high&quot;, &quot;medium&quot;, &quot;high&quot;, &quot;low&quot;, &quot;medium&quot;, &quot;high&quot;))
levels(food)</code></pre>
<pre><code>## [1] &quot;high&quot;   &quot;low&quot;    &quot;medium&quot;</code></pre>
<pre class="r"><code>food &lt;- factor(food, levels = c(&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;))
levels(food)</code></pre>
<pre><code>## [1] &quot;low&quot;    &quot;medium&quot; &quot;high&quot;</code></pre>
<pre class="r"><code>min(food) ## doesn&#39;t work</code></pre>
<pre><code>## Error in Summary.factor(structure(c(1L, 3L, 2L, 3L, 1L, 2L, 3L), .Label = c(&quot;low&quot;, : &#39;min&#39; not meaningful for factors</code></pre>
<pre class="r"><code>food &lt;- factor(food, levels = c(&quot;low&quot;, &quot;medium&quot;, &quot;high&quot;), ordered=TRUE)
levels(food)</code></pre>
<pre><code>## [1] &quot;low&quot;    &quot;medium&quot; &quot;high&quot;</code></pre>
<pre class="r"><code>min(food) ## works!</code></pre>
<pre><code>## [1] low
## Levels: low &lt; medium &lt; high</code></pre>
</div>
<div id="challenge" class="section level2">
<h2>Challenge</h2>
<p>Use the dataset <code>AirPassengers</code> that comes with R and refers to number of passengers traveled every month from 1949 to 1960 in thousands. Because the dataset is of type <code>Time-Series</code> or <code>ts</code>, you can make it a data.frame through the following commands:</p>
<pre><code>dn = list(paste(&quot;Y&quot;, as.character(1949:1960), sep = &quot;&quot;), month.abb)
airmat = matrix(AirPassengers, 12, byrow = TRUE, dimnames = dn)
air = as.data.frame(t(airmat))</code></pre>
<p>Then try to answer the next questions/problems:</p>
<ul>
<li>Use the help functionality to try and learn about the functions used above.</li>
<li>How many passengers traveled in average for the year 1951?</li>
<li>Which is the maximum number of passengers for the months January and February?</li>
<li>Calculate the summation per year and assign the result to a vector.</li>
<li>Plot the vector nicely (names in axes, point and lines for the graph, title the graph, add grid lines)</li>
<li>Repeat the last two bullets for every month for all the years.</li>
</ul>
<p><em>Tip: to transform a row of the data frame to a vector you can use <code>unlist</code> (e.g. <code>unlist(air[&quot;Jan&quot;,]</code>)</em></p>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-2782275-11', 'auto');
  ga('send', 'pageview');
</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
